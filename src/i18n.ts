import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

const resources = {
  he: {
    translation: {
      home: 'בית',
      menu: 'תפריט',
      about: 'אודות',
      reviews: 'המלצות',
      contact: 'צור קשר',
      cart: 'עגלה',
      checkout: 'תשלום',
      heroTitle: 'ברוכים הבאים למטבח הסיני של לולו',
      heroSubtitle: 'אוכל סיני אותנטי מוכן טרי בירושלים והסביבה',
      heroDesc: 'כאן תמצאו מנות סיניות מסורתיות ואהובות, מוכנות מדי יום עם החומרים הטריים והאיכותיים ביותר. אנחנו מביאים את ניחוחות המטבח הביתי של סין ישירות לשולחן שלכם, עם הקפדה על כל פרט וטעם',
      orderNow: 'הזמן עכשיו',
      viewMenu: 'צפה בתפריט',
      whyUs: 'למה לבחור בנו?',
      whyDesc: 'אוכל סיני אותנטי מוכן טרי בזמן ההזמנה. עדיף להזמין יום מראש',
      fresh: 'אוכל טרי',
      freshDesc: 'כל מנה מוכנת טרי בזמן ההזמנה',
      authentic: 'אותנטי',
      authenticDesc: 'מתכונים מסורתיים שהועברו מדור לדור',
      delivery: 'משלוחים',
      deliveryDesc: 'משלוחים לירושלים והסביבה',
      testimonials: 'המלצות לקוחות',
      testimonialsDesc: 'מה הלקוחות שלנו אומרים עלינו',
      rating: '5.0 מתוך 6 ביקורות',
      readyTaste: 'מוכנים לטעום את הטוב ביותר?',
      readyDesc: 'הזמינו עכשיו ותיהנו מאוכל סיני אותנטי מוכן טרי במיוחד עבורכם',
      fullMenu: 'צפו בתפריט המלא',
      contactUs: 'צרו קשר',
      name: 'שם',
      email: 'אימייל',
      message: 'הודעה',
      phone: 'טלפון',
      address: 'כתובת',
      send: 'שלח',
      sent: 'נשלח בהצלחה!',
      error: 'שגיאה בשליחה',
      loading: 'טוען...',
      all: 'הכול',
      search: 'חפש מנות...',
      sortName: 'שם',
      sortPrice: 'מחיר',
      seo_home_title: 'המטבח הסיני של לולו',
      seo_home_desc: 'אוכל סיני אותנטי מוכן טרי בירושלים והסביבה. מנות מסורתיות מוכנות באהבה עם חומרי גלם טריים',
      seo_menu_title: 'תפריט - המטבח הסיני של לולו',
      seo_menu_desc: 'תפריט מנות סיניות אותנטיות, מחירים ומשלוחים לירושלים',
      seo_contact_title: 'צור קשר - המטבח הסיני של לולו',
      seo_contact_desc: 'צרו קשר להזמנות אוכל סיני טרי בירושלים',
      seo_notfound_title: 'לא נמצא - המטבח הסיני של לולו',
      notFound: 'הדף לא נמצא',
      cartEmpty: 'העגלה ריקה',
      coupon: 'קופון',
      apply: 'החל',
      clear: 'נקה',
      discount: 'הנחה',
      subtotal: 'סכום ביניים',
      total: 'סך הכול',
      freeDelivery: 'משלוח חינם',
      missingDelivery: 'חסר לך {{amount}} ₪ למשלוח חינם!',
      couponError: 'קופון לא תקף',
      couponSuccess: 'קופון הוחל!',
      quantity: 'כמות',
      orderReceived: 'הזמנה התקבלה!',
      orderId: 'מספר הזמנה: {{id}}',
    },
  },
  en: {
    translation: {
      home: 'Home',
      menu: 'Menu',
      about: 'About',
      reviews: 'Reviews',
      contact: 'Contact',
      cart: 'Cart',
      checkout: 'Checkout',
      heroTitle: "Welcome to Lulu's Chinese Kitchen",
      heroSubtitle: 'Authentic Chinese Food Freshly Prepared in Jerusalem and Surroundings',
      heroDesc: 'Here you will find traditional and beloved Chinese dishes, prepared daily with the freshest and highest quality ingredients. We bring the aromas of home Chinese kitchen directly to your table, with attention to every detail and flavor',
      orderNow: 'Order Now',
      viewMenu: 'View Menu',
      whyUs: 'Why Choose Us?',
      whyDesc: 'Authentic Chinese food prepared fresh on order. Prefer to order a day in advance',
      fresh: 'Fresh Food',
      freshDesc: 'Every dish is prepared fresh on order',
      authentic: 'Authentic',
      authenticDesc: 'Traditional recipes passed down through generations',
      delivery: 'Deliveries',
      deliveryDesc: 'Deliveries to Jerusalem and surroundings',
      testimonials: 'Customer Reviews',
      testimonialsDesc: 'What our customers say about us',
      rating: '5.0 out of 6 reviews',
      readyTaste: 'Ready to Taste the Best?',
      readyDesc: 'Order now and enjoy authentic Chinese food prepared fresh just for you',
      fullMenu: 'View Full Menu',
      contactUs: 'Contact Us',
      name: 'Name',
      email: 'Email',
      message: 'Message',
      phone: 'Phone',
      address: 'Address',
      send: 'Send',
      sent: 'Sent successfully!',
      error: 'Error sending',
      loading: 'Loading...',
      all: 'All',
      search: 'Search dishes...',
      sortName: 'Name',
      sortPrice: 'Price',
      seo_home_title: "Lulu's Chinese Kitchen",
      seo_home_desc: 'Authentic Chinese food freshly prepared in Jerusalem and surroundings. Traditional dishes made with love and fresh ingredients',
      seo_menu_title: 'Menu - Lulu\'s Chinese Kitchen',
      seo_menu_desc: 'Menu of authentic Chinese dishes, prices and deliveries to Jerusalem',
      seo_contact_title: 'Contact - Lulu\'s Chinese Kitchen',
      seo_contact_desc: 'Contact us for fresh Chinese food orders in Jerusalem',
      seo_notfound_title: 'Not Found - Lulu\'s Chinese Kitchen',
      notFound: 'Page not found',
      cartEmpty: 'Cart is empty',
      coupon: 'Coupon',
      apply: 'Apply',
      clear: 'Clear',
      discount: 'Discount',
      subtotal: 'Subtotal',
      total: 'Total',
      freeDelivery: 'Free Delivery',
      missingDelivery: 'Missing {{amount}} ₪ for free delivery!',
      couponError: 'Invalid coupon',
      couponSuccess: 'Coupon applied!',
      quantity: 'Quantity',
      orderReceived: 'Order received!',
      orderId: 'Order ID: {{id}}',
    },
  },
};

i18n
  .use(initReactI18next)
  .use(LanguageDetector)
  .init({
    resources,
    lng: 'he',
    fallbackLng: 'he',
    interpolation: { escapeValue: false },
    detection: {
      order: ['localStorage', 'querystring', 'navigator', 'cookie', 'htmlTag'],
      caches: ['localStorage'],
    },
  });

const applyDir = (lng: string) => {
  const isHe = lng?.startsWith('he');
  document.documentElement.setAttribute('dir', isHe ? 'rtl' : 'ltr');
  document.documentElement.setAttribute('lang', isHe ? 'he' : 'en');
};
i18n.on('initialized', () => applyDir(i18n.language));
i18n.on('languageChanged', applyDir);

export default i18n;